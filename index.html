<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St. Peter's Boarding Community Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;600&family=Averia+Serif+Libre&display=swap" rel="stylesheet">
    <style>
        /* Custom styles based on St. Peter's Brand Guidelines */
        :root {
            --scarlet: #CF082B;
            --white-stone: #EDE8E3;
            --warm-black: #0D0A0A;
            --midnight-blue: #001733;
            --saxe-blue: #82ADBF;
        }

        body {
            font-family: 'Averia Serif Libre', serif; /* Body text font */
            background-color: var(--white-stone);
            color: var(--warm-black);
        }

        h1, h2 {
            font-family: 'Instrument Sans', sans-serif; /* Headings font */
            text-transform: uppercase; /* Main headings in all caps */
            color: var(--midnight-blue);
        }

        .tile {
            background-color: white;
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
            border: 2px solid var(--saxe-blue); /* Add a border for definition */
        }

        .tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        }

        .tile-title {
            color: var(--scarlet); /* Scarlet for a pop of color */
            font-weight: 600; /* Semi-Bold for subheadings */
            font-size: 1.5rem;
        }

        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.8); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--white-stone);
            margin: auto;
            padding: 1.5rem;
            border-radius: 1rem;
            width: 90%; /* Responsive width */
            max-width: 900px; /* Max width for larger screens */
            height: 90%; /* Responsive height */
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .close-button {
            color: var(--warm-black);
            font-size: 2rem;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
            transition: color 0.2s ease-in-out;
        }

        .close-button:hover,
        .close-button:focus {
            color: var(--scarlet);
            text-decoration: none;
            cursor: pointer;
        }

        .iframe-container {
            flex-grow: 1; /* Allow iframe to take available space */
            width: 100%;
            display: flex; /* Use flex to center iframe */
            justify-content: center;
            align-items: center;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 0.5rem;
        }

        /* Responsive adjustments */
        @media (min-width: 768px) {
            .grid-cols-1-md-3 {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body class="p-6">

    <div class="container mx-auto py-8">
        <h1 class="text-4xl lg:text-5xl font-bold text-center mb-12">St. Peter's Boarding Community Dashboard</h1>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Tile 1: Boarding SOPs -->
            <div id="sop-tile" class="tile p-6 flex flex-col items-center justify-center text-center">
                <h2 class="tile-title mb-4">Boarding SOPs</h2>
                <p class="text-lg">Click to view the Standard Operating Procedures.</p>
            </div>

            <!-- Tile 2: Low Risk Forms -->
            <div id="low-risk-tile" class="tile p-6 flex flex-col items-center justify-center text-center">
                <h2 class="tile-title mb-4">Low Risk Forms</h2>
                <p class="text-lg text-gray-600">Data to be uploaded later.</p>
            </div>

            <!-- Tile 3: Important Phone Numbers -->
            <div id="phone-numbers-tile" class="tile p-6 flex flex-col items-center justify-center text-center">
                <h2 class="tile-title mb-4">Important Phone Numbers</h2>
                <p class="text-lg text-gray-600">Data to be added later.</p>
            </div>
        </div>
    </div>

    <!-- Modal for SOPs PDF -->
    <div id="sop-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('sop-modal')">&times;</span>
            <h2 class="text-3xl font-bold text-center mb-4 text-midnight-blue">Boarding SOPs</h2>
            <div class="iframe-container">
                <!-- The PDF will be loaded here when the tile is clicked -->
                <iframe id="sop-iframe" src="" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <script>
        // Function to open the modal and load the PDF
        function openSOPModal() {
            document.getElementById('sop-modal').style.display = 'flex';
            // Set the PDF source. This assumes the PDF is accessible at this path.
            // In a real deployment, you would host this PDF on your server.
            // For this example, we'll use a placeholder or a direct link if available.
            // Since the user uploaded it, we'll use the contentFetchId.
            document.getElementById('sop-iframe').src = 'data:application/pdf;base64,' + btoa(unescape(encodeURIComponent(atob('{{uploaded:Boarding SOPs}}'))));
            // Note: The above line is a placeholder. Directly embedding a local file like this
            // in a live environment is not standard. You would typically host the PDF
            // and link to its URL. For this Canvas environment, this is a way to simulate it.
        }

        // Function to close the modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            // Optionally, clear the iframe src to stop any media or free up resources
            if (modalId === 'sop-modal') {
                document.getElementById('sop-iframe').src = '';
            }
        }

        // Add event listener to the SOP tile
        document.getElementById('sop-tile').addEventListener('click', openSOPModal);

        // Close modal when clicking outside the modal content
        window.addEventListener('click', function(event) {
            const sopModal = document.getElementById('sop-modal');
            if (event.target === sopModal) {
                closeModal('sop-modal');
            }
        });

        // Handle keyboard escape key to close modal
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const sopModal = document.getElementById('sop-modal');
                if (sopModal.style.display === 'flex') {
                    closeModal('sop-modal');
                }
            }
        });
    </script>
</body>
</html>
